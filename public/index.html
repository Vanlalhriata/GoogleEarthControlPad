<!doctype HTML>
<html>
<head>
	
</head>

<body>

	<div id="map3d" style="width: 800px; height: 600px;"></div>

	<script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <script type="text/javascript" src="/socket.io/socket.io.js"></script>
    <script type="text/javascript">

    	var socket = io();

    </script>

    <script type="text/javascript" src="https://www.google.com/jsapi"> </script>
	<script type="text/javascript">

		var ge;
		google.load("earth", "1", {"other_params":"sensor=true_or_false"});

		function init() {
			google.earth.createInstance('map3d', initCB, failureCB);
		}

		function initCB(instance) {
			ge = instance;
			ge.getWindow().setVisibility(true);
			ge.getOptions().setFlyToSpeed(ge.SPEED_TELEPORT);	// Needed for continuous view change

		 	// Get the current view.
			// var lookAt = ge.getView().copyAsLookAt(ge.ALTITUDE_RELATIVE_TO_GROUND);

			// // Set new latitude and longitude values.
			// lookAt.setLatitude(0);
			// lookAt.setLongitude(21341234123);
			// lookAt.setRange(10000000.0);

			// // Update the view in Google Earth.
			// ge.getView().setAbstractView(lookAt);

			var LookAt;
			var newLook;

			setInterval(function(){

				lookAt = ge.getView().copyAsLookAt(ge.ALTITUDE_RELATIVE_TO_GROUND);
				newLook = ge.createLookAt('');

				newLook.setLongitude(lookAt.getLongitude() + 0.1);
				newLook.setLatitude(lookAt.getLatitude());
				newLook.setRange(lookAt.getRange());

				ge.getView().setAbstractView(newLook);

			}, 33);
		}

		function failureCB(errorCode) {
		}

		google.setOnLoadCallback(init);

	</script>

	<script type="text/javascript">
		$(document).on('ready', function(){

		})
	</script>

</body>

</html>